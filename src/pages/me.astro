---
import Layout from "@layouts/Layout.astro";
import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";
import Socials from "@components/Socials.astro";
import { SOCIALS, PROJECTS } from "@config";

const socialCount = SOCIALS.filter(social => social.active).length;
---

<Layout>
  <Header />
  <main id="main-content">
    <section id="hero">
      <img
        src="/profile_photo.jpeg"
        alt="Profile picture"
        class="h-auto w-64 rounded-lg transition-all duration-500 sm:hover:w-[50%]"
      />
      <h1>Juan Beresiarte</h1>
      <p class="text-[1.1rem]">Desarrollador Web</p>

      <div class="my-6 inline-block">
        <cite>
          "El mejor modo de predecir el futuro es inventarlo." - Alan Kay
        </cite>
      </div>

      {
        socialCount > 0 && (
          <div class="social-wrapper">
            <div class="social-links">Redes Sociales:</div>
            <Socials />
          </div>
        )
      }
    </section>

    <section class="flex max-w-4xl flex-col flex-wrap gap-5">
      <h2 class="text-3xl font-medium underline">¿Quien soy?</h2>

      <p class="leading-8">
        Hola! mi nombre es Juan y soy un desarrollador Argentino. Mi historia en
        el mundo tech comenzó de forma atípica: cambié Windows por Kali Linux
        siendo muy chico porque quería ser hacker como en las películas. Esa
        curiosidad me llevó a explorar de forma autodidacta todo lo que pude
        sobre informática. Aprendí <b>Bash</b>, <b>Python</b>, administración en
        <b>Linux</b>, y con el tiempo esa exploración se convirtió en una pasión
        más concreta: el desarrollo web.
      </p>

      <p class="leading-8">
        Hoy soy desarrollador web fullstack con una fuerte orientación al
        frontend, aunque disfruto manejar todo el ciclo de una app. Me considero
        una persona metódica y creativa, con una necesidad constante de
        aprender, mejorar y mantener mis proyectos con vida.
      </p>

      <h2 class="text-3xl font-medium underline">
        Mis herramientas preferidas
      </h2>

      <p class="leading-8">
        Trabajo principalmente con JavaScript, lenguaje con el que me siento
        extremadamente cómodo en cualquier contexto. Mi stack usual incluye:
      </p>

      <ul class="list-disc pl-6">
        <li>
          <b>Astro:</b> ideal para sitios simples, rápidos y eficientes.
        </li>
        <li>
          <b>React:</b> me gusta mantener el control total del proyecto sin dependencias
          innecesarias.
        </li>
        <li>
          <b>Tailwind:</b> me permite prototipar rápido, aunque no tengo problemas
          en escribir CSS puro cuando hace falta.
        </li>
        <li><b>Express:</b> para APIs simples, directo y sin vueltas.</li>
        <li>
          <b>NestJS:</b> cuando el proyecto escala y necesito algo más robusto.
        </li>
      </ul>

      <p class="leading-8">
        En este momento estoy aprendiendo Rust, atraído por su diseño a nivel
        bajo, sus garantías de seguridad y su potencia.
      </p>

      <section class="projects my-4 -ml-4 max-w-4xl">
        <h2 class="text-3xl font-medium underline">Proyectos</h2>

        <ul>
          {
            PROJECTS.map(project => (
              <li class="border-l-solid rounded border-l-4 border-l-[color:var(--textColor)]">
                <h3 class="text-xl font-medium decoration-dashed">
                  {project.name}
                </h3>
                <span>{project.description}</span>
                <div class="flex flex-row flex-wrap items-center gap-2">
                  <a href={project.link} target="_blank">
                    [🔗 Published!]
                  </a>
                  <a href={project.repo} target="_blank">
                    [📦 Repo]
                  </a>
                </div>
              </li>
            ))
          }
        </ul>
      </section>
    </section>

    <Footer />
  </main>

  <style>
    .projects ul {
      @apply my-8 flex flex-col gap-6;
    }

    .projects li {
      @apply flex flex-col gap-2 py-2 pl-4 text-left;
    }

    .projects li a {
      @apply inline-block font-medium text-skin-accent decoration-dashed underline-offset-4 focus-visible:no-underline focus-visible:underline-offset-0;
    }

    /* ===== Hero Section ===== */
    #hero {
      @apply max-w-4xl pb-6 pt-8;
    }
    #hero h1 {
      @apply mb-0 mt-8 inline-block text-3xl font-bold sm:text-5xl;
    }
    #hero .rss-link {
      @apply mb-6;
    }
    #hero .rss-icon {
      @apply mb-2 h-6 w-6 scale-110 fill-skin-accent sm:mb-3 sm:scale-125;
    }
    #hero p {
      @apply my-2;
    }
    .social-wrapper {
      @apply mt-4 flex flex-col sm:flex-row sm:items-center;
    }
    .social-links {
      @apply mb-1 mr-2 whitespace-nowrap sm:mb-0;
    }

    /* ===== Featured & Recent Posts Sections ===== */
    #featured,
    #recent-posts {
      @apply pb-6 pt-12;
    }
    #featured h2,
    #recent-posts h2 {
      @apply text-2xl font-semibold tracking-wide;
    }
    .all-posts-btn-wrapper {
      @apply my-8 text-center;
    }
  </style>
</Layout>
